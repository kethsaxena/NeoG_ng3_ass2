<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <meta
      name="description"
      content="Get your WA ME link just from a click"
    />
    <title>WaMe LinkMSG</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="container">
       <nav id="custom-nav">
        <ul>
          <li><a href="index.html">Smart Marketer Tools</a></li>
          <li><a href="WAMI.html">WAMI Link</a></li>
          <li><a href="Twitter.html">Twitter Share Generator</a></li>
          <li><a href="Github.html">Github Link Generator</a></li>
        </ul>
      </nav>
      <hgroup>
        <h1>Whatsapp Link+MSG Generator</h1>
        <p>Get your Whatsapp Link from just your phone number</p>
      </hgroup>
    </header>
    <main class="container">
      <div id="app">
        <input id="waNum" type ="number" maxlength="13"  placeholder="Enter your Whatsapp number" />
       <!-- Initially hidden select -->
        <select id="message" name="message" style="display: none;">
          <option value="" disabled selected>---Choose a message---</option>
          <option value="1">Hi I am interested in your product!</option>
          <option value="2">Hello can we connect regarding a service!</option>
          <option value="3">Please share more details</option>
        </select>
        <br/>
        <input type="button" id="generateURL" value="Generate Whatsapp URL & Message" />
      </div>
       <section>
        <p id="result"></p>
      </section>
    </main>
<script id="NeoG_ng1_Ass2">


// Select elements
const inputNumber = document.getElementById("waNum");
const inputMessageKey = document.getElementById("message");
const buttonGenerate = document.getElementById("generateURL");
const result = document.getElementById("result");

inputNumber.addEventListener("input", () => {
    const phone = inputNumber.value.trim();

    // Show select if phone number is 10+ digits
    if (phone.length >= 10) {
      inputMessageKey.style.display = "inline-block";
    } else {
      inputMessageKey.style.display = "none";
    }
  });


// Function to generate WhatsApp link
function getWhatsAppURL(number, message) {
  // Clean up the number: remove any '+' or spaces
  let cleanedNumber = number.replace(/[^\d]/g, '');
  let encodedMsg = encodeURIComponent(message);
  return  "https://wa.me/+1" + cleanedNumber + '?text=' + encodedMsg;
}

// Handle click
function handleGenerateClick() {
  const messageMap = {
  1: "Hi I am interested in your product!",
  2: "Hello can we connect regarding a service!",
  3: "Please share more details"
};
  const selectedKey = parseInt(inputMessageKey.value, 10);
  const inputMessage = messageMap[selectedKey];
  const number = inputNumber.value;
  const message = inputMessage;

  if (!number) {
    result.innerText = "<b>Please enter your Whatsapp number.</b>";
    return;
  }
  else{
    
  }
  // Generate URL
  const waURL = getWhatsAppURL(number, message);
  // Show the URL as a clickable link
  result.innerText = waURL ;

}

// Event Listener
buttonGenerate.addEventListener("click", handleGenerateClick);
</script>

  </body>
</html>
